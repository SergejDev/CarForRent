@using PagedList.Mvc
@model PagedList.IPagedList<CarForRent.Models.Auto>

@{
    ViewBag.Title = "Auto management";
}

<div id="myCarousel" class="carousel slide">
    <ol class="carousel-indicators">
        <li class="active" data-slide-to="0" data-target="#myCarousel"></li>
        <li class="" data-slide-to="1" data-target="#myCarousel"></li>
        <li class="" data-slide-to="2" data-target="#myCarousel"></li>
    </ol>
    <div class="carousel-inner">
        <div class="item active">
            <img alt="" src="/Images/HeadImages/auto1.jpg">
            <div class="carousel-caption">
                <h3>This is an online car rental system.          
                    On our website you can order a car for every taste at an affordable price.
                </h3>
            </div>
        </div>
        <div class="item">
            <img alt="" src="/Images/HeadImages/auto3.jpg">
            <div class="carousel-caption">
                <h3>This is an online car rental system.          
                    On our website you can order a car for every taste at an affordable price.
                </h3>

            </div>
        </div>
        <div class="item">
            <img alt="" src="/Images/HeadImages/auto2.jpg">
            <div class="carousel-caption">
                <h3>This is an online car rental system.          
                    On our website you can order a car for every taste at an affordable price.
                </h3>

            </div>
        </div>
    </div>
    <a class="left carousel-control" data-slide="prev" href="#myCarousel">‹</a>
    <a class="right carousel-control" data-slide="next" href="#myCarousel">›</a>
</div>

<div class="container-fluid ">
    <div class="span3 SearchingPanel">
        <h3>Searching panel </h3>
        <div>
            <table class="SearchingTable" style="width: 100%;">
                <tr>
                    <td class="searchLabel">
                        Mark
                    </td>
                    <td>
                        <input type="text" />
                    </td>
                </tr>
                <tr>
                    <td class="searchLabel">
                        Model
                    </td>
                    <td>
                        <input type="text" /></td>
                </tr>
                <tr>
                    <td class="searchLabel">
                        Year of manufacture
                    </td>
                    <td>
                        <input type="text" /></td>
                </tr>
                <tr>
                    <td class="searchLabel">
                        Places count
                    </td>
                    <td>
                        <input type="text" />
                    </td>
                </tr>
                
                <tr>
                    <td class="searchLabel">
                        Engine volume
                    </td>
                    <td>
                        <input type="text" /></td>
                </tr>
                <tr>
                    <td class="searchLabel">
                        Engine type
                    </td>
                    <td>
                        <input type="text" /></td>
                </tr>
                <tr>
                    <td class="searchLabel">
                        Auto class
                    </td>
                    <td>
                        <input type="text" /></td>
                </tr>
                <tr>
                    <td class="searchLabel">
                        Fuel type
                    </td>
                    <td>
                        <input type="text" />

                    </td>
                </tr>
                <tr>
                    <td class="searchLabel">
                        Gearbox type
                    </td>
                    <td>
                        <input type="text" />
                    </td>
                </tr>
                
            </table>
            
            <input class="btn-large btn-primary buttonSearch" type="button" value="Search" />
        </div>
    </div>

    <div class="span9 AutoList">
        <h3>Assortment of cars</h3>
        @if (User.IsInRole("Administrator") && Html.ViewContext.Controller.ControllerContext.RouteData.GetRequiredString("controller") == "CmsAuto")
        {
            @Html.ActionLink("Add auto", "Create", "CmsAuto", null, new { @class = "btn" })
        }
        <ul class="CarsList">
            @foreach (var item in Model)
            {
                <li>
                    <div class="Car">
                        <div class="CarsImageDiv">
                            <img class="img-rounded" src="@CarForRent.Helpers.UrlBuilder.BuildAutoImageUrl(item.ImageFileName)"/>
                        </div>
                        <div class="CarRecordDiv">
                            <ul class="CarRecord">
                                <li>
                                    <input type="hidden" class="CarId" value="@item.AutoId" />
                                </li>

                                <li class="AutoInformation">
                                    <div class="DivHeaders">Mark: </div>
                                    <div>
                                        @Html.DisplayFor(modelItem => item.Mark)
                                    </div>
                                </li>
                                <li class="AutoInformation">
                                    <div class="DivHeaders">Model: </div>
                                    <div>
                                        @Html.DisplayFor(modelItem => item.Model)
                                    </div>
                                </li>
                                <li class="AutoInformation">
                                    <div class="DivHeaders">Class auto: </div>
                                    <div>@Html.DisplayFor(modelItme => item.AutoClass.ClassTitle)</div>
                                </li>
                                @if (User.IsInRole("Administrator") && Html.ViewContext.Controller.ControllerContext.RouteData.GetRequiredString("controller") == "CmsAuto")
                                {
                                    <li class="AutoInformation">
                                        <div class="DivHeaders">
                                            Count: 
                                        </div>
                                        <div>
                                            @Html.DisplayFor(modelItme => item.AutoCount)
                                        </div>
                                    </li>
                                }
                                <li class="AutoInformation">
                                    <div class="DivHeaders">Price: </div>
                                    <div>@Html.DisplayFor(modelItem => item.Price)</div>
                                </li>

                                <li class="AutoInformation" style="vertical-align: middle">

                                    @Html.ActionLink("Order", "Create", "Order", new { id = item.AutoId }, new { @class = "btn linkButton" })
                                    @if (User.IsInRole("Administrator") && Html.ViewContext.Controller.ControllerContext.RouteData.GetRequiredString("controller") == "CmsAuto")
                                    {
                                        @Html.ActionLink("Edit", "Edit", "CmsAuto", new { id = item.AutoId }, new { @class = "btn linkButton" })
                                        @Html.ActionLink("Delete", "Delete", "CmsAuto", new { id = item.AutoId }, new { @class = "btn linkButton" })
                                    }
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
            }

        </ul>
        
        <div style="text-align: center;">

            @Html.PagedListPager(Model, page => Url.Action("Index", new { page }), 
                                 new PagedListRenderOptions { LinkToFirstPageFormat = "<<", 

                                                              LinkToPreviousPageFormat = "Back",

                                                              LinkToNextPageFormat = "Forward",

                                                              LinkToLastPageFormat = ">>" })

        </div>
    </div>
</div>


@section Scripts
{
    <script src="@Scripts.Url("~/Scripts/AutoBitch.js")" type="text/javascript"></script>
}